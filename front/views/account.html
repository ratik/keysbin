<div id="message">
    <div class="alert col-md-6 col-md-push-3" ng-class="error?'alert-error':'alert-success'" ng-show="message">
        {{message}}
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <abn-tree tree-data="tree_data.children" tree-control="data_tree" on-select="my_tree_handler(branch)" expand-level="2"></abn-tree>
        </div>
        <div class="col-md-9">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <button ng-click="add_child()" ng-show="data_tree.get_selected_branch()" class="navbar-btn btn btn-default">Add to selected</button>
                    <button ng-click="add_child_top()" class="navbar-btn btn btn-default">Add to top</button>
                    <button ng-click="data_tree.expand_all()" class="navbar-btn btn btn-default"><span class="glyphicon glyphicon-chevron-down"></span> Expand All</button>
                    <button ng-click="data_tree.collapse_all()" class="navbar-btn btn btn-default"><span class="glyphicon glyphicon-chevron-up "></span> Collapse All</button>
                    <button ng-click="delete_child()" ng-show="data_tree.get_selected_branch()" class="navbar-btn btn btn-danger"><span class="glyphicon glyphicon-remove-sign"></span> Delete Current</button>
                </div>
            </nav>
            <form class="form-horizontal" ng-show="current_node_ptr">
                <div class="form-group">
                    <label for="i1" class="col-sm-2 control-label">Item Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="i1" placeholder="Item Name" ng-model="current_node.label" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="i2" class="col-sm-2 control-label">Login</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="i2" placeholder="Login" ng-model="current_node.login" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="i3" class="col-sm-2 control-label">Url</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="i3" placeholder="Url" ng-model="current_node.url" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="i4" class="col-sm-2 control-label">Password</label>
                    <div class="col-sm-8">
                        <input type="{{show_password?'text':'password'}}" class="form-control" id="i4" placeholder="Password" ng-model="current_node.password" />
                    </div>
                    <div class="col-sm-2">
                        <button class="btn btn-default"><span class="glyphicon" ng-class="show_password ? 'glyphicon-eye-open' :'glyphicon-eye-close' " ng-click="show_password=!show_password"></span></button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="i5" class="col-sm-2 control-label">Comment</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" rows="{{comment_rows()}}" ng-model="current_node.comment" id="i5" placeholder="Comment"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn" ng-click="save()" ng-disabled="saving" ng-class="saving?'btn-disabled':'btn-primary'">{{saving? 'Saving...' : 'Save'}}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
